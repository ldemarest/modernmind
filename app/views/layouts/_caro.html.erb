<canvas id="caro" data-pause="false"></canvas>

<script>

window.requestAnimationFrame = function() {
	return window.requestAnimationFrame ||
		window.webkitRequestAnimationFrame ||
		window.mozRequestAnimationFrame ||
		window.msRequestAnimationFrame ||
		window.oRequestAnimationFrame ||
		function(f) {
			window.setTimeout(f,1e3/60);
		}
}();

var canvas = document.querySelector('#caro');
var ctx = canvas.getContext('2d');

var W = canvas.width;
var H = canvas.height;

// We want to move/slide/scroll the background
// as the player moves or the game progresses

// Velocity X
var vx = 0;

var img = new Image();
img.src = 'http://www.stephenwiltshire.co.uk/images/Madrid_Panorama_by_Stephen_Wiltshire.jpg';
// img.height = 250px;

(function renderGame() {
	window.requestAnimationFrame(renderGame);
	
	ctx.clearRect(0, 0, W, H);
	
	// ctx.fillStyle = '#333';
	ctx.fillRect(0, 0, W, H);
	
	ctx.drawImage(img, vx, 50);
	ctx.drawImage(img, img.width-Math.abs(vx), 50);


	
	if (Math.abs(vx) > img.width) {
		vx = 0;
	}
	
	vx -= 2;
}());

</script>